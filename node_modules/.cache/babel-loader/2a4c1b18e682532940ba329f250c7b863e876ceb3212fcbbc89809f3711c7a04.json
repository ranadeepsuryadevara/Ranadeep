{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs3/helpers/objectSpread2\";\nimport _typeof from \"@babel/runtime-corejs3/helpers/typeof\";\nimport _createForOfIteratorHelper from \"@babel/runtime-corejs3/helpers/createForOfIteratorHelper\";\nimport _classCallCheck from \"@babel/runtime-corejs3/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs3/helpers/createClass\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs3/regenerator\";\nimport _Object$assign from \"@babel/runtime-corejs3/core-js-stable/object/assign\";\nimport _filterInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/filter\";\nimport _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";\nimport _concatInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/concat\";\nimport _Object$keys2 from \"@babel/runtime-corejs3/core-js-stable/object/keys\";\nimport _findInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/find\";\nimport _Promise from \"@babel/runtime-corejs3/core-js-stable/promise\";\nimport _spliceInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/splice\";\nimport _sliceInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/slice\";\nimport lib from './lib/index.js';\nimport refs from './lib/refs.js';\nimport allOf from './lib/all-of.js';\nimport parameters from './lib/parameters.js';\nimport properties from './lib/properties.js';\nimport ContextTree from './lib/context-tree.js';\nvar HARD_LIMIT = 100;\nvar noop = function noop() {};\nvar SpecMap = /*#__PURE__*/function () {\n  function SpecMap(opts) {\n    var _this = this,\n      _context,\n      _context2;\n    _classCallCheck(this, SpecMap);\n    _Object$assign(this, {\n      spec: '',\n      debugLevel: 'info',\n      plugins: [],\n      pluginHistory: {},\n      errors: [],\n      mutations: [],\n      promisedPatches: [],\n      state: {},\n      patches: [],\n      context: {},\n      contextTree: new ContextTree(),\n      showDebug: false,\n      allPatches: [],\n      // only populated if showDebug is true\n      pluginProp: 'specMap',\n      libMethods: _Object$assign(Object.create(this), lib, {\n        getInstance: function getInstance() {\n          return _this;\n        }\n      }),\n      allowMetaPatches: false\n    }, opts); // Lib methods bound\n\n    this.get = this._get.bind(this); // eslint-disable-line no-underscore-dangle\n\n    this.getContext = this._getContext.bind(this); // eslint-disable-line no-underscore-dangle\n\n    this.hasRun = this._hasRun.bind(this); // eslint-disable-line no-underscore-dangle\n\n    this.wrappedPlugins = _filterInstanceProperty(_context = _mapInstanceProperty(_context2 = this.plugins).call(_context2, this.wrapPlugin.bind(this))).call(_context, lib.isFunction); // Initial patch(s)\n\n    this.patches.push(lib.add([], this.spec));\n    this.patches.push(lib.context([], this.context));\n    this.updatePatches(this.patches);\n  }\n  _createClass(SpecMap, [{\n    key: \"debug\",\n    value: function debug(level) {\n      if (this.debugLevel === level) {\n        var _console;\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        (_console = console).log.apply(_console, args); // eslint-disable-line no-console\n      }\n    }\n  }, {\n    key: \"verbose\",\n    value: function verbose(header) {\n      if (this.debugLevel === 'verbose') {\n        var _console2, _context3;\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        (_console2 = console).log.apply(_console2, _concatInstanceProperty(_context3 = [\"[\".concat(header, \"]   \")]).call(_context3, args)); // eslint-disable-line no-console\n      }\n    }\n  }, {\n    key: \"wrapPlugin\",\n    value: function wrapPlugin(plugin, name) {\n      var pathDiscriminator = this.pathDiscriminator;\n      var ctx = null;\n      var fn;\n      if (plugin[this.pluginProp]) {\n        ctx = plugin;\n        fn = plugin[this.pluginProp];\n      } else if (lib.isFunction(plugin)) {\n        fn = plugin;\n      } else if (lib.isObject(plugin)) {\n        fn = createKeyBasedPlugin(plugin);\n      }\n      return _Object$assign(fn.bind(ctx), {\n        pluginName: plugin.name || name,\n        isGenerator: lib.isGenerator(fn)\n      }); // Expected plugin interface: {key: string, plugin: fn*}\n      // This traverses depth-first and immediately applies yielded patches.\n      // This strategy should work well for most plugins (including the built-ins).\n      // We might consider making this (traversing & application) configurable later.\n\n      function createKeyBasedPlugin(pluginObj) {\n        var isSubPath = function isSubPath(path, tested) {\n          if (!Array.isArray(path)) {\n            return true;\n          }\n          return path.every(function (val, i) {\n            return val === tested[i];\n          });\n        };\n        return /*#__PURE__*/_regeneratorRuntime.mark(function generator(patches, specmap) {\n          var _marked, refCache, _iterator, _step, patch, traverse;\n          return _regeneratorRuntime.wrap(function generator$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  traverse = function _traverse(obj, path, patch) {\n                    var parentIndex, parent, indexOfFirstProperties, isRootProperties, traversed, _i, _Object$keys, key, val, updatedPath, isObj, objRef, isWithinPathDiscriminator;\n                    return _regeneratorRuntime.wrap(function traverse$(_context4) {\n                      while (1) {\n                        switch (_context4.prev = _context4.next) {\n                          case 0:\n                            if (lib.isObject(obj)) {\n                              _context4.next = 6;\n                              break;\n                            }\n                            if (!(pluginObj.key === path[path.length - 1])) {\n                              _context4.next = 4;\n                              break;\n                            }\n                            _context4.next = 4;\n                            return pluginObj.plugin(obj, pluginObj.key, path, specmap);\n                          case 4:\n                            _context4.next = 30;\n                            break;\n                          case 6:\n                            parentIndex = path.length - 1;\n                            parent = path[parentIndex];\n                            indexOfFirstProperties = path.indexOf('properties');\n                            isRootProperties = parent === 'properties' && parentIndex === indexOfFirstProperties;\n                            traversed = specmap.allowMetaPatches && refCache[obj.$$ref]; // eslint-disable-next-line no-restricted-syntax\n\n                            _i = 0, _Object$keys = _Object$keys2(obj);\n                          case 12:\n                            if (!(_i < _Object$keys.length)) {\n                              _context4.next = 30;\n                              break;\n                            }\n                            key = _Object$keys[_i];\n                            val = obj[key];\n                            updatedPath = _concatInstanceProperty(path).call(path, key);\n                            isObj = lib.isObject(val);\n                            objRef = obj.$$ref;\n                            if (traversed) {\n                              _context4.next = 22;\n                              break;\n                            }\n                            if (!isObj) {\n                              _context4.next = 22;\n                              break;\n                            }\n\n                            // Only store the ref if it exists\n                            if (specmap.allowMetaPatches && objRef) {\n                              refCache[objRef] = true;\n                            }\n                            return _context4.delegateYield(traverse(val, updatedPath, patch), \"t0\", 22);\n                          case 22:\n                            if (!(!isRootProperties && key === pluginObj.key)) {\n                              _context4.next = 27;\n                              break;\n                            }\n                            isWithinPathDiscriminator = isSubPath(pathDiscriminator, path);\n                            if (!(!pathDiscriminator || isWithinPathDiscriminator)) {\n                              _context4.next = 27;\n                              break;\n                            }\n                            _context4.next = 27;\n                            return pluginObj.plugin(val, key, updatedPath, specmap, patch);\n                          case 27:\n                            _i++;\n                            _context4.next = 12;\n                            break;\n                          case 30:\n                          case \"end\":\n                            return _context4.stop();\n                        }\n                      }\n                    }, _marked);\n                  };\n                  _marked = /*#__PURE__*/_regeneratorRuntime.mark(traverse);\n                  refCache = {}; // eslint-disable-next-line no-restricted-syntax\n\n                  _iterator = _createForOfIteratorHelper(_filterInstanceProperty(patches).call(patches, lib.isAdditiveMutation));\n                  _context5.prev = 4;\n                  _iterator.s();\n                case 6:\n                  if ((_step = _iterator.n()).done) {\n                    _context5.next = 11;\n                    break;\n                  }\n                  patch = _step.value;\n                  return _context5.delegateYield(traverse(patch.value, patch.path, patch), \"t0\", 9);\n                case 9:\n                  _context5.next = 6;\n                  break;\n                case 11:\n                  _context5.next = 16;\n                  break;\n                case 13:\n                  _context5.prev = 13;\n                  _context5.t1 = _context5[\"catch\"](4);\n                  _iterator.e(_context5.t1);\n                case 16:\n                  _context5.prev = 16;\n                  _iterator.f();\n                  return _context5.finish(16);\n                case 19:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, generator, null, [[4, 13, 16, 19]]);\n        });\n      }\n    }\n  }, {\n    key: \"nextPlugin\",\n    value: function nextPlugin() {\n      var _context6,\n        _this2 = this;\n      return _findInstanceProperty(_context6 = this.wrappedPlugins).call(_context6, function (plugin) {\n        var mutations = _this2.getMutationsForPlugin(plugin);\n        return mutations.length > 0;\n      });\n    }\n  }, {\n    key: \"nextPromisedPatch\",\n    value: function nextPromisedPatch() {\n      if (this.promisedPatches.length > 0) {\n        var _context7;\n        return _Promise.race(_mapInstanceProperty(_context7 = this.promisedPatches).call(_context7, function (patch) {\n          return patch.value;\n        }));\n      }\n      return undefined;\n    }\n  }, {\n    key: \"getPluginHistory\",\n    value: function getPluginHistory(plugin) {\n      var name = this.constructor.getPluginName(plugin);\n      return this.pluginHistory[name] || [];\n    }\n  }, {\n    key: \"getPluginRunCount\",\n    value: function getPluginRunCount(plugin) {\n      return this.getPluginHistory(plugin).length;\n    }\n  }, {\n    key: \"getPluginHistoryTip\",\n    value: function getPluginHistoryTip(plugin) {\n      var history = this.getPluginHistory(plugin);\n      var val = history && history[history.length - 1];\n      return val || {};\n    }\n  }, {\n    key: \"getPluginMutationIndex\",\n    value: function getPluginMutationIndex(plugin) {\n      var mi = this.getPluginHistoryTip(plugin).mutationIndex;\n      return typeof mi !== 'number' ? -1 : mi;\n    }\n  }, {\n    key: \"updatePluginHistory\",\n    value: function updatePluginHistory(plugin, val) {\n      var name = this.constructor.getPluginName(plugin);\n      this.pluginHistory[name] = this.pluginHistory[name] || [];\n      this.pluginHistory[name].push(val);\n    }\n  }, {\n    key: \"updatePatches\",\n    value: function updatePatches(patches) {\n      var _this3 = this;\n      lib.normalizeArray(patches).forEach(function (patch) {\n        if (patch instanceof Error) {\n          _this3.errors.push(patch);\n          return;\n        }\n        try {\n          if (!lib.isObject(patch)) {\n            _this3.debug('updatePatches', 'Got a non-object patch', patch);\n            return;\n          }\n          if (_this3.showDebug) {\n            _this3.allPatches.push(patch);\n          }\n          if (lib.isPromise(patch.value)) {\n            _this3.promisedPatches.push(patch);\n            _this3.promisedPatchThen(patch);\n            return;\n          }\n          if (lib.isContextPatch(patch)) {\n            _this3.setContext(patch.path, patch.value);\n            return;\n          }\n          if (lib.isMutation(patch)) {\n            _this3.updateMutations(patch);\n            return;\n          }\n        } catch (e) {\n          console.error(e); // eslint-disable-line no-console\n\n          _this3.errors.push(e);\n        }\n      });\n    }\n  }, {\n    key: \"updateMutations\",\n    value: function updateMutations(patch) {\n      if (_typeof(patch.value) === 'object' && !Array.isArray(patch.value) && this.allowMetaPatches) {\n        patch.value = _objectSpread({}, patch.value);\n      }\n      var result = lib.applyPatch(this.state, patch, {\n        allowMetaPatches: this.allowMetaPatches\n      });\n      if (result) {\n        this.mutations.push(patch);\n        this.state = result;\n      }\n    }\n  }, {\n    key: \"removePromisedPatch\",\n    value: function removePromisedPatch(patch) {\n      var _context8;\n      var index = this.promisedPatches.indexOf(patch);\n      if (index < 0) {\n        this.debug(\"Tried to remove a promisedPatch that isn't there!\");\n        return;\n      }\n      _spliceInstanceProperty(_context8 = this.promisedPatches).call(_context8, index, 1);\n    }\n  }, {\n    key: \"promisedPatchThen\",\n    value: function promisedPatchThen(patch) {\n      var _this4 = this;\n      patch.value = patch.value.then(function (val) {\n        var promisedPatch = _objectSpread(_objectSpread({}, patch), {}, {\n          value: val\n        });\n        _this4.removePromisedPatch(patch);\n        _this4.updatePatches(promisedPatch);\n      }).catch(function (e) {\n        _this4.removePromisedPatch(patch);\n        _this4.updatePatches(e);\n      });\n      return patch.value;\n    }\n  }, {\n    key: \"getMutations\",\n    value: function getMutations(from, to) {\n      var _context9;\n      from = from || 0;\n      if (typeof to !== 'number') {\n        to = this.mutations.length;\n      }\n      return _sliceInstanceProperty(_context9 = this.mutations).call(_context9, from, to);\n    }\n  }, {\n    key: \"getCurrentMutations\",\n    value: function getCurrentMutations() {\n      return this.getMutationsForPlugin(this.getCurrentPlugin());\n    }\n  }, {\n    key: \"getMutationsForPlugin\",\n    value: function getMutationsForPlugin(plugin) {\n      var tip = this.getPluginMutationIndex(plugin);\n      return this.getMutations(tip + 1);\n    }\n  }, {\n    key: \"getCurrentPlugin\",\n    value: function getCurrentPlugin() {\n      return this.currentPlugin;\n    }\n  }, {\n    key: \"getLib\",\n    value: function getLib() {\n      return this.libMethods;\n    } // eslint-disable-next-line no-underscore-dangle\n  }, {\n    key: \"_get\",\n    value: function _get(path) {\n      return lib.getIn(this.state, path);\n    } // eslint-disable-next-line no-underscore-dangle\n  }, {\n    key: \"_getContext\",\n    value: function _getContext(path) {\n      return this.contextTree.get(path);\n    }\n  }, {\n    key: \"setContext\",\n    value: function setContext(path, value) {\n      return this.contextTree.set(path, value);\n    } // eslint-disable-next-line no-underscore-dangle\n  }, {\n    key: \"_hasRun\",\n    value: function _hasRun(count) {\n      var times = this.getPluginRunCount(this.getCurrentPlugin());\n      return times > (count || 0);\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch() {\n      var _this5 = this;\n      var that = this;\n      var plugin = this.nextPlugin();\n      if (!plugin) {\n        var nextPromise = this.nextPromisedPatch();\n        if (nextPromise) {\n          return nextPromise.then(function () {\n            return _this5.dispatch();\n          }).catch(function () {\n            return _this5.dispatch();\n          });\n        } // We're done!\n\n        var result = {\n          spec: this.state,\n          errors: this.errors\n        };\n        if (this.showDebug) {\n          result.patches = this.allPatches;\n        }\n        return _Promise.resolve(result);\n      } // Makes sure plugin isn't running an endless loop\n\n      that.pluginCount = that.pluginCount || {};\n      that.pluginCount[plugin] = (that.pluginCount[plugin] || 0) + 1;\n      if (that.pluginCount[plugin] > HARD_LIMIT) {\n        var _context10;\n        return _Promise.resolve({\n          spec: that.state,\n          errors: _concatInstanceProperty(_context10 = that.errors).call(_context10, new Error(\"We've reached a hard limit of \".concat(HARD_LIMIT, \" plugin runs\")))\n        });\n      } // A different plugin runs, wait for all promises to resolve, then retry\n\n      if (plugin !== this.currentPlugin && this.promisedPatches.length) {\n        var _context11;\n        var promises = _mapInstanceProperty(_context11 = this.promisedPatches).call(_context11, function (p) {\n          return p.value;\n        }); // Waits for all to settle instead of Promise.all which stops on rejection\n\n        return _Promise.all(_mapInstanceProperty(promises).call(promises, function (promise) {\n          return promise.then(noop, noop);\n        })).then(function () {\n          return _this5.dispatch();\n        });\n      } // Ok, run the plugin\n\n      return executePlugin();\n      function executePlugin() {\n        that.currentPlugin = plugin;\n        var mutations = that.getCurrentMutations();\n        var lastMutationIndex = that.mutations.length - 1;\n        try {\n          if (plugin.isGenerator) {\n            // eslint-disable-next-line no-restricted-syntax\n            var _iterator2 = _createForOfIteratorHelper(plugin(mutations, that.getLib())),\n              _step2;\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                var yieldedPatches = _step2.value;\n                updatePatches(yieldedPatches);\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n          } else {\n            var newPatches = plugin(mutations, that.getLib());\n            updatePatches(newPatches);\n          }\n        } catch (e) {\n          console.error(e); // eslint-disable-line no-console\n\n          updatePatches([_Object$assign(Object.create(e), {\n            plugin: plugin\n          })]);\n        } finally {\n          that.updatePluginHistory(plugin, {\n            mutationIndex: lastMutationIndex\n          });\n        }\n        return that.dispatch();\n      }\n      function updatePatches(patches) {\n        if (patches) {\n          patches = lib.fullyNormalizeArray(patches);\n          that.updatePatches(patches, plugin);\n        }\n      }\n    }\n  }], [{\n    key: \"getPluginName\",\n    value: function getPluginName(plugin) {\n      return plugin.pluginName;\n    }\n  }, {\n    key: \"getPatchesOfType\",\n    value: function getPatchesOfType(patches, fn) {\n      return _filterInstanceProperty(patches).call(patches, fn);\n    }\n  }]);\n  return SpecMap;\n}();\nexport default function mapSpec(opts) {\n  return new SpecMap(opts).dispatch();\n}\nvar plugins = {\n  refs: refs,\n  allOf: allOf,\n  parameters: parameters,\n  properties: properties\n};\nexport { SpecMap, plugins };","map":{"version":3,"names":["_objectSpread","_typeof","_createForOfIteratorHelper","_classCallCheck","_createClass","_regeneratorRuntime","_Object$assign","_filterInstanceProperty","_mapInstanceProperty","_concatInstanceProperty","_Object$keys2","_findInstanceProperty","_Promise","_spliceInstanceProperty","_sliceInstanceProperty","lib","refs","allOf","parameters","properties","ContextTree","HARD_LIMIT","noop","SpecMap","opts","_this","_context","_context2","spec","debugLevel","plugins","pluginHistory","errors","mutations","promisedPatches","state","patches","context","contextTree","showDebug","allPatches","pluginProp","libMethods","Object","create","getInstance","allowMetaPatches","get","_get","bind","getContext","_getContext","hasRun","_hasRun","wrappedPlugins","call","wrapPlugin","isFunction","push","add","updatePatches","key","value","debug","level","_console","_len","arguments","length","args","Array","_key","console","log","apply","verbose","header","_console2","_context3","_len2","_key2","concat","plugin","name","pathDiscriminator","ctx","fn","isObject","createKeyBasedPlugin","pluginName","isGenerator","pluginObj","isSubPath","path","tested","isArray","every","val","i","mark","generator","specmap","_marked","refCache","_iterator","_step","patch","traverse","wrap","generator$","_context5","prev","next","_traverse","obj","parentIndex","parent","indexOfFirstProperties","isRootProperties","traversed","_i","_Object$keys","updatedPath","isObj","objRef","isWithinPathDiscriminator","traverse$","_context4","indexOf","$$ref","delegateYield","stop","isAdditiveMutation","s","n","done","t1","e","f","finish","nextPlugin","_context6","_this2","getMutationsForPlugin","nextPromisedPatch","_context7","race","undefined","getPluginHistory","constructor","getPluginName","getPluginRunCount","getPluginHistoryTip","history","getPluginMutationIndex","mi","mutationIndex","updatePluginHistory","_this3","normalizeArray","forEach","Error","isPromise","promisedPatchThen","isContextPatch","setContext","isMutation","updateMutations","error","result","applyPatch","removePromisedPatch","_context8","index","_this4","then","promisedPatch","catch","getMutations","from","to","_context9","getCurrentMutations","getCurrentPlugin","tip","currentPlugin","getLib","getIn","set","count","times","dispatch","_this5","that","nextPromise","resolve","pluginCount","_context10","_context11","promises","p","all","promise","executePlugin","lastMutationIndex","_iterator2","_step2","yieldedPatches","err","newPatches","fullyNormalizeArray","getPatchesOfType","mapSpec"],"sources":["C:/Users/JRS GROUPS/Desktop/React/ftask/node_modules/swagger-client/es/specmap/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime-corejs3/helpers/objectSpread2\";\nimport _typeof from \"@babel/runtime-corejs3/helpers/typeof\";\nimport _createForOfIteratorHelper from \"@babel/runtime-corejs3/helpers/createForOfIteratorHelper\";\nimport _classCallCheck from \"@babel/runtime-corejs3/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs3/helpers/createClass\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs3/regenerator\";\nimport _Object$assign from \"@babel/runtime-corejs3/core-js-stable/object/assign\";\nimport _filterInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/filter\";\nimport _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";\nimport _concatInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/concat\";\nimport _Object$keys2 from \"@babel/runtime-corejs3/core-js-stable/object/keys\";\nimport _findInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/find\";\nimport _Promise from \"@babel/runtime-corejs3/core-js-stable/promise\";\nimport _spliceInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/splice\";\nimport _sliceInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/slice\";\nimport lib from './lib/index.js';\nimport refs from './lib/refs.js';\nimport allOf from './lib/all-of.js';\nimport parameters from './lib/parameters.js';\nimport properties from './lib/properties.js';\nimport ContextTree from './lib/context-tree.js';\nvar HARD_LIMIT = 100;\n\nvar noop = function noop() {};\n\nvar SpecMap = /*#__PURE__*/function () {\n  function SpecMap(opts) {\n    var _this = this,\n        _context,\n        _context2;\n\n    _classCallCheck(this, SpecMap);\n\n    _Object$assign(this, {\n      spec: '',\n      debugLevel: 'info',\n      plugins: [],\n      pluginHistory: {},\n      errors: [],\n      mutations: [],\n      promisedPatches: [],\n      state: {},\n      patches: [],\n      context: {},\n      contextTree: new ContextTree(),\n      showDebug: false,\n      allPatches: [],\n      // only populated if showDebug is true\n      pluginProp: 'specMap',\n      libMethods: _Object$assign(Object.create(this), lib, {\n        getInstance: function getInstance() {\n          return _this;\n        }\n      }),\n      allowMetaPatches: false\n    }, opts); // Lib methods bound\n\n\n    this.get = this._get.bind(this); // eslint-disable-line no-underscore-dangle\n\n    this.getContext = this._getContext.bind(this); // eslint-disable-line no-underscore-dangle\n\n    this.hasRun = this._hasRun.bind(this); // eslint-disable-line no-underscore-dangle\n\n    this.wrappedPlugins = _filterInstanceProperty(_context = _mapInstanceProperty(_context2 = this.plugins).call(_context2, this.wrapPlugin.bind(this))).call(_context, lib.isFunction); // Initial patch(s)\n\n    this.patches.push(lib.add([], this.spec));\n    this.patches.push(lib.context([], this.context));\n    this.updatePatches(this.patches);\n  }\n\n  _createClass(SpecMap, [{\n    key: \"debug\",\n    value: function debug(level) {\n      if (this.debugLevel === level) {\n        var _console;\n\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        (_console = console).log.apply(_console, args); // eslint-disable-line no-console\n\n      }\n    }\n  }, {\n    key: \"verbose\",\n    value: function verbose(header) {\n      if (this.debugLevel === 'verbose') {\n        var _console2, _context3;\n\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n\n        (_console2 = console).log.apply(_console2, _concatInstanceProperty(_context3 = [\"[\".concat(header, \"]   \")]).call(_context3, args)); // eslint-disable-line no-console\n\n      }\n    }\n  }, {\n    key: \"wrapPlugin\",\n    value: function wrapPlugin(plugin, name) {\n      var pathDiscriminator = this.pathDiscriminator;\n      var ctx = null;\n      var fn;\n\n      if (plugin[this.pluginProp]) {\n        ctx = plugin;\n        fn = plugin[this.pluginProp];\n      } else if (lib.isFunction(plugin)) {\n        fn = plugin;\n      } else if (lib.isObject(plugin)) {\n        fn = createKeyBasedPlugin(plugin);\n      }\n\n      return _Object$assign(fn.bind(ctx), {\n        pluginName: plugin.name || name,\n        isGenerator: lib.isGenerator(fn)\n      }); // Expected plugin interface: {key: string, plugin: fn*}\n      // This traverses depth-first and immediately applies yielded patches.\n      // This strategy should work well for most plugins (including the built-ins).\n      // We might consider making this (traversing & application) configurable later.\n\n      function createKeyBasedPlugin(pluginObj) {\n        var isSubPath = function isSubPath(path, tested) {\n          if (!Array.isArray(path)) {\n            return true;\n          }\n\n          return path.every(function (val, i) {\n            return val === tested[i];\n          });\n        };\n\n        return /*#__PURE__*/_regeneratorRuntime.mark(function generator(patches, specmap) {\n          var _marked, refCache, _iterator, _step, patch, traverse;\n\n          return _regeneratorRuntime.wrap(function generator$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  traverse = function _traverse(obj, path, patch) {\n                    var parentIndex, parent, indexOfFirstProperties, isRootProperties, traversed, _i, _Object$keys, key, val, updatedPath, isObj, objRef, isWithinPathDiscriminator;\n\n                    return _regeneratorRuntime.wrap(function traverse$(_context4) {\n                      while (1) {\n                        switch (_context4.prev = _context4.next) {\n                          case 0:\n                            if (lib.isObject(obj)) {\n                              _context4.next = 6;\n                              break;\n                            }\n\n                            if (!(pluginObj.key === path[path.length - 1])) {\n                              _context4.next = 4;\n                              break;\n                            }\n\n                            _context4.next = 4;\n                            return pluginObj.plugin(obj, pluginObj.key, path, specmap);\n\n                          case 4:\n                            _context4.next = 30;\n                            break;\n\n                          case 6:\n                            parentIndex = path.length - 1;\n                            parent = path[parentIndex];\n                            indexOfFirstProperties = path.indexOf('properties');\n                            isRootProperties = parent === 'properties' && parentIndex === indexOfFirstProperties;\n                            traversed = specmap.allowMetaPatches && refCache[obj.$$ref]; // eslint-disable-next-line no-restricted-syntax\n\n                            _i = 0, _Object$keys = _Object$keys2(obj);\n\n                          case 12:\n                            if (!(_i < _Object$keys.length)) {\n                              _context4.next = 30;\n                              break;\n                            }\n\n                            key = _Object$keys[_i];\n                            val = obj[key];\n                            updatedPath = _concatInstanceProperty(path).call(path, key);\n                            isObj = lib.isObject(val);\n                            objRef = obj.$$ref;\n\n                            if (traversed) {\n                              _context4.next = 22;\n                              break;\n                            }\n\n                            if (!isObj) {\n                              _context4.next = 22;\n                              break;\n                            }\n\n                            // Only store the ref if it exists\n                            if (specmap.allowMetaPatches && objRef) {\n                              refCache[objRef] = true;\n                            }\n\n                            return _context4.delegateYield(traverse(val, updatedPath, patch), \"t0\", 22);\n\n                          case 22:\n                            if (!(!isRootProperties && key === pluginObj.key)) {\n                              _context4.next = 27;\n                              break;\n                            }\n\n                            isWithinPathDiscriminator = isSubPath(pathDiscriminator, path);\n\n                            if (!(!pathDiscriminator || isWithinPathDiscriminator)) {\n                              _context4.next = 27;\n                              break;\n                            }\n\n                            _context4.next = 27;\n                            return pluginObj.plugin(val, key, updatedPath, specmap, patch);\n\n                          case 27:\n                            _i++;\n                            _context4.next = 12;\n                            break;\n\n                          case 30:\n                          case \"end\":\n                            return _context4.stop();\n                        }\n                      }\n                    }, _marked);\n                  };\n\n                  _marked = /*#__PURE__*/_regeneratorRuntime.mark(traverse);\n                  refCache = {}; // eslint-disable-next-line no-restricted-syntax\n\n                  _iterator = _createForOfIteratorHelper(_filterInstanceProperty(patches).call(patches, lib.isAdditiveMutation));\n                  _context5.prev = 4;\n\n                  _iterator.s();\n\n                case 6:\n                  if ((_step = _iterator.n()).done) {\n                    _context5.next = 11;\n                    break;\n                  }\n\n                  patch = _step.value;\n                  return _context5.delegateYield(traverse(patch.value, patch.path, patch), \"t0\", 9);\n\n                case 9:\n                  _context5.next = 6;\n                  break;\n\n                case 11:\n                  _context5.next = 16;\n                  break;\n\n                case 13:\n                  _context5.prev = 13;\n                  _context5.t1 = _context5[\"catch\"](4);\n\n                  _iterator.e(_context5.t1);\n\n                case 16:\n                  _context5.prev = 16;\n\n                  _iterator.f();\n\n                  return _context5.finish(16);\n\n                case 19:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, generator, null, [[4, 13, 16, 19]]);\n        });\n      }\n    }\n  }, {\n    key: \"nextPlugin\",\n    value: function nextPlugin() {\n      var _context6,\n          _this2 = this;\n\n      return _findInstanceProperty(_context6 = this.wrappedPlugins).call(_context6, function (plugin) {\n        var mutations = _this2.getMutationsForPlugin(plugin);\n\n        return mutations.length > 0;\n      });\n    }\n  }, {\n    key: \"nextPromisedPatch\",\n    value: function nextPromisedPatch() {\n      if (this.promisedPatches.length > 0) {\n        var _context7;\n\n        return _Promise.race(_mapInstanceProperty(_context7 = this.promisedPatches).call(_context7, function (patch) {\n          return patch.value;\n        }));\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"getPluginHistory\",\n    value: function getPluginHistory(plugin) {\n      var name = this.constructor.getPluginName(plugin);\n      return this.pluginHistory[name] || [];\n    }\n  }, {\n    key: \"getPluginRunCount\",\n    value: function getPluginRunCount(plugin) {\n      return this.getPluginHistory(plugin).length;\n    }\n  }, {\n    key: \"getPluginHistoryTip\",\n    value: function getPluginHistoryTip(plugin) {\n      var history = this.getPluginHistory(plugin);\n      var val = history && history[history.length - 1];\n      return val || {};\n    }\n  }, {\n    key: \"getPluginMutationIndex\",\n    value: function getPluginMutationIndex(plugin) {\n      var mi = this.getPluginHistoryTip(plugin).mutationIndex;\n      return typeof mi !== 'number' ? -1 : mi;\n    }\n  }, {\n    key: \"updatePluginHistory\",\n    value: function updatePluginHistory(plugin, val) {\n      var name = this.constructor.getPluginName(plugin);\n      this.pluginHistory[name] = this.pluginHistory[name] || [];\n      this.pluginHistory[name].push(val);\n    }\n  }, {\n    key: \"updatePatches\",\n    value: function updatePatches(patches) {\n      var _this3 = this;\n\n      lib.normalizeArray(patches).forEach(function (patch) {\n        if (patch instanceof Error) {\n          _this3.errors.push(patch);\n\n          return;\n        }\n\n        try {\n          if (!lib.isObject(patch)) {\n            _this3.debug('updatePatches', 'Got a non-object patch', patch);\n\n            return;\n          }\n\n          if (_this3.showDebug) {\n            _this3.allPatches.push(patch);\n          }\n\n          if (lib.isPromise(patch.value)) {\n            _this3.promisedPatches.push(patch);\n\n            _this3.promisedPatchThen(patch);\n\n            return;\n          }\n\n          if (lib.isContextPatch(patch)) {\n            _this3.setContext(patch.path, patch.value);\n\n            return;\n          }\n\n          if (lib.isMutation(patch)) {\n            _this3.updateMutations(patch);\n\n            return;\n          }\n        } catch (e) {\n          console.error(e); // eslint-disable-line no-console\n\n          _this3.errors.push(e);\n        }\n      });\n    }\n  }, {\n    key: \"updateMutations\",\n    value: function updateMutations(patch) {\n      if (_typeof(patch.value) === 'object' && !Array.isArray(patch.value) && this.allowMetaPatches) {\n        patch.value = _objectSpread({}, patch.value);\n      }\n\n      var result = lib.applyPatch(this.state, patch, {\n        allowMetaPatches: this.allowMetaPatches\n      });\n\n      if (result) {\n        this.mutations.push(patch);\n        this.state = result;\n      }\n    }\n  }, {\n    key: \"removePromisedPatch\",\n    value: function removePromisedPatch(patch) {\n      var _context8;\n\n      var index = this.promisedPatches.indexOf(patch);\n\n      if (index < 0) {\n        this.debug(\"Tried to remove a promisedPatch that isn't there!\");\n        return;\n      }\n\n      _spliceInstanceProperty(_context8 = this.promisedPatches).call(_context8, index, 1);\n    }\n  }, {\n    key: \"promisedPatchThen\",\n    value: function promisedPatchThen(patch) {\n      var _this4 = this;\n\n      patch.value = patch.value.then(function (val) {\n        var promisedPatch = _objectSpread(_objectSpread({}, patch), {}, {\n          value: val\n        });\n\n        _this4.removePromisedPatch(patch);\n\n        _this4.updatePatches(promisedPatch);\n      }).catch(function (e) {\n        _this4.removePromisedPatch(patch);\n\n        _this4.updatePatches(e);\n      });\n      return patch.value;\n    }\n  }, {\n    key: \"getMutations\",\n    value: function getMutations(from, to) {\n      var _context9;\n\n      from = from || 0;\n\n      if (typeof to !== 'number') {\n        to = this.mutations.length;\n      }\n\n      return _sliceInstanceProperty(_context9 = this.mutations).call(_context9, from, to);\n    }\n  }, {\n    key: \"getCurrentMutations\",\n    value: function getCurrentMutations() {\n      return this.getMutationsForPlugin(this.getCurrentPlugin());\n    }\n  }, {\n    key: \"getMutationsForPlugin\",\n    value: function getMutationsForPlugin(plugin) {\n      var tip = this.getPluginMutationIndex(plugin);\n      return this.getMutations(tip + 1);\n    }\n  }, {\n    key: \"getCurrentPlugin\",\n    value: function getCurrentPlugin() {\n      return this.currentPlugin;\n    }\n  }, {\n    key: \"getLib\",\n    value: function getLib() {\n      return this.libMethods;\n    } // eslint-disable-next-line no-underscore-dangle\n\n  }, {\n    key: \"_get\",\n    value: function _get(path) {\n      return lib.getIn(this.state, path);\n    } // eslint-disable-next-line no-underscore-dangle\n\n  }, {\n    key: \"_getContext\",\n    value: function _getContext(path) {\n      return this.contextTree.get(path);\n    }\n  }, {\n    key: \"setContext\",\n    value: function setContext(path, value) {\n      return this.contextTree.set(path, value);\n    } // eslint-disable-next-line no-underscore-dangle\n\n  }, {\n    key: \"_hasRun\",\n    value: function _hasRun(count) {\n      var times = this.getPluginRunCount(this.getCurrentPlugin());\n      return times > (count || 0);\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch() {\n      var _this5 = this;\n\n      var that = this;\n      var plugin = this.nextPlugin();\n\n      if (!plugin) {\n        var nextPromise = this.nextPromisedPatch();\n\n        if (nextPromise) {\n          return nextPromise.then(function () {\n            return _this5.dispatch();\n          }).catch(function () {\n            return _this5.dispatch();\n          });\n        } // We're done!\n\n\n        var result = {\n          spec: this.state,\n          errors: this.errors\n        };\n\n        if (this.showDebug) {\n          result.patches = this.allPatches;\n        }\n\n        return _Promise.resolve(result);\n      } // Makes sure plugin isn't running an endless loop\n\n\n      that.pluginCount = that.pluginCount || {};\n      that.pluginCount[plugin] = (that.pluginCount[plugin] || 0) + 1;\n\n      if (that.pluginCount[plugin] > HARD_LIMIT) {\n        var _context10;\n\n        return _Promise.resolve({\n          spec: that.state,\n          errors: _concatInstanceProperty(_context10 = that.errors).call(_context10, new Error(\"We've reached a hard limit of \".concat(HARD_LIMIT, \" plugin runs\")))\n        });\n      } // A different plugin runs, wait for all promises to resolve, then retry\n\n\n      if (plugin !== this.currentPlugin && this.promisedPatches.length) {\n        var _context11;\n\n        var promises = _mapInstanceProperty(_context11 = this.promisedPatches).call(_context11, function (p) {\n          return p.value;\n        }); // Waits for all to settle instead of Promise.all which stops on rejection\n\n\n        return _Promise.all(_mapInstanceProperty(promises).call(promises, function (promise) {\n          return promise.then(noop, noop);\n        })).then(function () {\n          return _this5.dispatch();\n        });\n      } // Ok, run the plugin\n\n\n      return executePlugin();\n\n      function executePlugin() {\n        that.currentPlugin = plugin;\n        var mutations = that.getCurrentMutations();\n        var lastMutationIndex = that.mutations.length - 1;\n\n        try {\n          if (plugin.isGenerator) {\n            // eslint-disable-next-line no-restricted-syntax\n            var _iterator2 = _createForOfIteratorHelper(plugin(mutations, that.getLib())),\n                _step2;\n\n            try {\n              for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n                var yieldedPatches = _step2.value;\n                updatePatches(yieldedPatches);\n              }\n            } catch (err) {\n              _iterator2.e(err);\n            } finally {\n              _iterator2.f();\n            }\n          } else {\n            var newPatches = plugin(mutations, that.getLib());\n            updatePatches(newPatches);\n          }\n        } catch (e) {\n          console.error(e); // eslint-disable-line no-console\n\n          updatePatches([_Object$assign(Object.create(e), {\n            plugin: plugin\n          })]);\n        } finally {\n          that.updatePluginHistory(plugin, {\n            mutationIndex: lastMutationIndex\n          });\n        }\n\n        return that.dispatch();\n      }\n\n      function updatePatches(patches) {\n        if (patches) {\n          patches = lib.fullyNormalizeArray(patches);\n          that.updatePatches(patches, plugin);\n        }\n      }\n    }\n  }], [{\n    key: \"getPluginName\",\n    value: function getPluginName(plugin) {\n      return plugin.pluginName;\n    }\n  }, {\n    key: \"getPatchesOfType\",\n    value: function getPatchesOfType(patches, fn) {\n      return _filterInstanceProperty(patches).call(patches, fn);\n    }\n  }]);\n\n  return SpecMap;\n}();\n\nexport default function mapSpec(opts) {\n  return new SpecMap(opts).dispatch();\n}\nvar plugins = {\n  refs: refs,\n  allOf: allOf,\n  parameters: parameters,\n  properties: properties\n};\nexport { SpecMap, plugins };"],"mappings":"AAAA,OAAOA,aAAa,MAAM,8CAA8C;AACxE,OAAOC,OAAO,MAAM,uCAAuC;AAC3D,OAAOC,0BAA0B,MAAM,0DAA0D;AACjG,OAAOC,eAAe,MAAM,+CAA+C;AAC3E,OAAOC,YAAY,MAAM,4CAA4C;AACrE,OAAOC,mBAAmB,MAAM,oCAAoC;AACpE,OAAOC,cAAc,MAAM,qDAAqD;AAChF,OAAOC,uBAAuB,MAAM,uDAAuD;AAC3F,OAAOC,oBAAoB,MAAM,oDAAoD;AACrF,OAAOC,uBAAuB,MAAM,uDAAuD;AAC3F,OAAOC,aAAa,MAAM,mDAAmD;AAC7E,OAAOC,qBAAqB,MAAM,qDAAqD;AACvF,OAAOC,QAAQ,MAAM,+CAA+C;AACpE,OAAOC,uBAAuB,MAAM,uDAAuD;AAC3F,OAAOC,sBAAsB,MAAM,sDAAsD;AACzF,OAAOC,GAAG,MAAM,gBAAgB;AAChC,OAAOC,IAAI,MAAM,eAAe;AAChC,OAAOC,KAAK,MAAM,iBAAiB;AACnC,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,IAAIC,UAAU,GAAG,GAAG;AAEpB,IAAIC,IAAI,GAAG,SAASA,IAAI,GAAG,CAAC,CAAC;AAE7B,IAAIC,OAAO,GAAG,aAAa,YAAY;EACrC,SAASA,OAAO,CAACC,IAAI,EAAE;IACrB,IAAIC,KAAK,GAAG,IAAI;MACZC,QAAQ;MACRC,SAAS;IAEbxB,eAAe,CAAC,IAAI,EAAEoB,OAAO,CAAC;IAE9BjB,cAAc,CAAC,IAAI,EAAE;MACnBsB,IAAI,EAAE,EAAE;MACRC,UAAU,EAAE,MAAM;MAClBC,OAAO,EAAE,EAAE;MACXC,aAAa,EAAE,CAAC,CAAC;MACjBC,MAAM,EAAE,EAAE;MACVC,SAAS,EAAE,EAAE;MACbC,eAAe,EAAE,EAAE;MACnBC,KAAK,EAAE,CAAC,CAAC;MACTC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE,CAAC,CAAC;MACXC,WAAW,EAAE,IAAIlB,WAAW,EAAE;MAC9BmB,SAAS,EAAE,KAAK;MAChBC,UAAU,EAAE,EAAE;MACd;MACAC,UAAU,EAAE,SAAS;MACrBC,UAAU,EAAEpC,cAAc,CAACqC,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC,EAAE7B,GAAG,EAAE;QACnD8B,WAAW,EAAE,SAASA,WAAW,GAAG;UAClC,OAAOpB,KAAK;QACd;MACF,CAAC,CAAC;MACFqB,gBAAgB,EAAE;IACpB,CAAC,EAAEtB,IAAI,CAAC,CAAC,CAAC;;IAGV,IAAI,CAACuB,GAAG,GAAG,IAAI,CAACC,IAAI,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;;IAEjC,IAAI,CAACC,UAAU,GAAG,IAAI,CAACC,WAAW,CAACF,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;;IAE/C,IAAI,CAACG,MAAM,GAAG,IAAI,CAACC,OAAO,CAACJ,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;;IAEvC,IAAI,CAACK,cAAc,GAAG/C,uBAAuB,CAACmB,QAAQ,GAAGlB,oBAAoB,CAACmB,SAAS,GAAG,IAAI,CAACG,OAAO,CAAC,CAACyB,IAAI,CAAC5B,SAAS,EAAE,IAAI,CAAC6B,UAAU,CAACP,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAACM,IAAI,CAAC7B,QAAQ,EAAEX,GAAG,CAAC0C,UAAU,CAAC,CAAC,CAAC;;IAErL,IAAI,CAACrB,OAAO,CAACsB,IAAI,CAAC3C,GAAG,CAAC4C,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC/B,IAAI,CAAC,CAAC;IACzC,IAAI,CAACQ,OAAO,CAACsB,IAAI,CAAC3C,GAAG,CAACsB,OAAO,CAAC,EAAE,EAAE,IAAI,CAACA,OAAO,CAAC,CAAC;IAChD,IAAI,CAACuB,aAAa,CAAC,IAAI,CAACxB,OAAO,CAAC;EAClC;EAEAhC,YAAY,CAACmB,OAAO,EAAE,CAAC;IACrBsC,GAAG,EAAE,OAAO;IACZC,KAAK,EAAE,SAASC,KAAK,CAACC,KAAK,EAAE;MAC3B,IAAI,IAAI,CAACnC,UAAU,KAAKmC,KAAK,EAAE;QAC7B,IAAIC,QAAQ;QAEZ,KAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAAM,EAAEC,IAAI,GAAG,IAAIC,KAAK,CAACJ,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEK,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGL,IAAI,EAAEK,IAAI,EAAE,EAAE;UAC1GF,IAAI,CAACE,IAAI,GAAG,CAAC,CAAC,GAAGJ,SAAS,CAACI,IAAI,CAAC;QAClC;QAEA,CAACN,QAAQ,GAAGO,OAAO,EAAEC,GAAG,CAACC,KAAK,CAACT,QAAQ,EAAEI,IAAI,CAAC,CAAC,CAAC;MAElD;IACF;EACF,CAAC,EAAE;IACDR,GAAG,EAAE,SAAS;IACdC,KAAK,EAAE,SAASa,OAAO,CAACC,MAAM,EAAE;MAC9B,IAAI,IAAI,CAAC/C,UAAU,KAAK,SAAS,EAAE;QACjC,IAAIgD,SAAS,EAAEC,SAAS;QAExB,KAAK,IAAIC,KAAK,GAAGZ,SAAS,CAACC,MAAM,EAAEC,IAAI,GAAG,IAAIC,KAAK,CAACS,KAAK,GAAG,CAAC,GAAGA,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGD,KAAK,EAAEC,KAAK,EAAE,EAAE;UACjHX,IAAI,CAACW,KAAK,GAAG,CAAC,CAAC,GAAGb,SAAS,CAACa,KAAK,CAAC;QACpC;QAEA,CAACH,SAAS,GAAGL,OAAO,EAAEC,GAAG,CAACC,KAAK,CAACG,SAAS,EAAEpE,uBAAuB,CAACqE,SAAS,GAAG,CAAC,GAAG,CAACG,MAAM,CAACL,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAACrB,IAAI,CAACuB,SAAS,EAAET,IAAI,CAAC,CAAC,CAAC,CAAC;MAEvI;IACF;EACF,CAAC,EAAE;IACDR,GAAG,EAAE,YAAY;IACjBC,KAAK,EAAE,SAASN,UAAU,CAAC0B,MAAM,EAAEC,IAAI,EAAE;MACvC,IAAIC,iBAAiB,GAAG,IAAI,CAACA,iBAAiB;MAC9C,IAAIC,GAAG,GAAG,IAAI;MACd,IAAIC,EAAE;MAEN,IAAIJ,MAAM,CAAC,IAAI,CAACzC,UAAU,CAAC,EAAE;QAC3B4C,GAAG,GAAGH,MAAM;QACZI,EAAE,GAAGJ,MAAM,CAAC,IAAI,CAACzC,UAAU,CAAC;MAC9B,CAAC,MAAM,IAAI1B,GAAG,CAAC0C,UAAU,CAACyB,MAAM,CAAC,EAAE;QACjCI,EAAE,GAAGJ,MAAM;MACb,CAAC,MAAM,IAAInE,GAAG,CAACwE,QAAQ,CAACL,MAAM,CAAC,EAAE;QAC/BI,EAAE,GAAGE,oBAAoB,CAACN,MAAM,CAAC;MACnC;MAEA,OAAO5E,cAAc,CAACgF,EAAE,CAACrC,IAAI,CAACoC,GAAG,CAAC,EAAE;QAClCI,UAAU,EAAEP,MAAM,CAACC,IAAI,IAAIA,IAAI;QAC/BO,WAAW,EAAE3E,GAAG,CAAC2E,WAAW,CAACJ,EAAE;MACjC,CAAC,CAAC,CAAC,CAAC;MACJ;MACA;MACA;;MAEA,SAASE,oBAAoB,CAACG,SAAS,EAAE;QACvC,IAAIC,SAAS,GAAG,SAASA,SAAS,CAACC,IAAI,EAAEC,MAAM,EAAE;UAC/C,IAAI,CAACxB,KAAK,CAACyB,OAAO,CAACF,IAAI,CAAC,EAAE;YACxB,OAAO,IAAI;UACb;UAEA,OAAOA,IAAI,CAACG,KAAK,CAAC,UAAUC,GAAG,EAAEC,CAAC,EAAE;YAClC,OAAOD,GAAG,KAAKH,MAAM,CAACI,CAAC,CAAC;UAC1B,CAAC,CAAC;QACJ,CAAC;QAED,OAAO,aAAa7F,mBAAmB,CAAC8F,IAAI,CAAC,SAASC,SAAS,CAAChE,OAAO,EAAEiE,OAAO,EAAE;UAChF,IAAIC,OAAO,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,KAAK,EAAEC,KAAK,EAAEC,QAAQ;UAExD,OAAOtG,mBAAmB,CAACuG,IAAI,CAAC,SAASC,UAAU,CAACC,SAAS,EAAE;YAC7D,OAAO,CAAC,EAAE;cACR,QAAQA,SAAS,CAACC,IAAI,GAAGD,SAAS,CAACE,IAAI;gBACrC,KAAK,CAAC;kBACJL,QAAQ,GAAG,SAASM,SAAS,CAACC,GAAG,EAAErB,IAAI,EAAEa,KAAK,EAAE;oBAC9C,IAAIS,WAAW,EAAEC,MAAM,EAAEC,sBAAsB,EAAEC,gBAAgB,EAAEC,SAAS,EAAEC,EAAE,EAAEC,YAAY,EAAE5D,GAAG,EAAEoC,GAAG,EAAEyB,WAAW,EAAEC,KAAK,EAAEC,MAAM,EAAEC,yBAAyB;oBAE/J,OAAOxH,mBAAmB,CAACuG,IAAI,CAAC,SAASkB,SAAS,CAACC,SAAS,EAAE;sBAC5D,OAAO,CAAC,EAAE;wBACR,QAAQA,SAAS,CAAChB,IAAI,GAAGgB,SAAS,CAACf,IAAI;0BACrC,KAAK,CAAC;4BACJ,IAAIjG,GAAG,CAACwE,QAAQ,CAAC2B,GAAG,CAAC,EAAE;8BACrBa,SAAS,CAACf,IAAI,GAAG,CAAC;8BAClB;4BACF;4BAEA,IAAI,EAAErB,SAAS,CAAC9B,GAAG,KAAKgC,IAAI,CAACA,IAAI,CAACzB,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE;8BAC9C2D,SAAS,CAACf,IAAI,GAAG,CAAC;8BAClB;4BACF;4BAEAe,SAAS,CAACf,IAAI,GAAG,CAAC;4BAClB,OAAOrB,SAAS,CAACT,MAAM,CAACgC,GAAG,EAAEvB,SAAS,CAAC9B,GAAG,EAAEgC,IAAI,EAAEQ,OAAO,CAAC;0BAE5D,KAAK,CAAC;4BACJ0B,SAAS,CAACf,IAAI,GAAG,EAAE;4BACnB;0BAEF,KAAK,CAAC;4BACJG,WAAW,GAAGtB,IAAI,CAACzB,MAAM,GAAG,CAAC;4BAC7BgD,MAAM,GAAGvB,IAAI,CAACsB,WAAW,CAAC;4BAC1BE,sBAAsB,GAAGxB,IAAI,CAACmC,OAAO,CAAC,YAAY,CAAC;4BACnDV,gBAAgB,GAAGF,MAAM,KAAK,YAAY,IAAID,WAAW,KAAKE,sBAAsB;4BACpFE,SAAS,GAAGlB,OAAO,CAACvD,gBAAgB,IAAIyD,QAAQ,CAACW,GAAG,CAACe,KAAK,CAAC,CAAC,CAAC;;4BAE7DT,EAAE,GAAG,CAAC,EAAEC,YAAY,GAAG/G,aAAa,CAACwG,GAAG,CAAC;0BAE3C,KAAK,EAAE;4BACL,IAAI,EAAEM,EAAE,GAAGC,YAAY,CAACrD,MAAM,CAAC,EAAE;8BAC/B2D,SAAS,CAACf,IAAI,GAAG,EAAE;8BACnB;4BACF;4BAEAnD,GAAG,GAAG4D,YAAY,CAACD,EAAE,CAAC;4BACtBvB,GAAG,GAAGiB,GAAG,CAACrD,GAAG,CAAC;4BACd6D,WAAW,GAAGjH,uBAAuB,CAACoF,IAAI,CAAC,CAACtC,IAAI,CAACsC,IAAI,EAAEhC,GAAG,CAAC;4BAC3D8D,KAAK,GAAG5G,GAAG,CAACwE,QAAQ,CAACU,GAAG,CAAC;4BACzB2B,MAAM,GAAGV,GAAG,CAACe,KAAK;4BAElB,IAAIV,SAAS,EAAE;8BACbQ,SAAS,CAACf,IAAI,GAAG,EAAE;8BACnB;4BACF;4BAEA,IAAI,CAACW,KAAK,EAAE;8BACVI,SAAS,CAACf,IAAI,GAAG,EAAE;8BACnB;4BACF;;4BAEA;4BACA,IAAIX,OAAO,CAACvD,gBAAgB,IAAI8E,MAAM,EAAE;8BACtCrB,QAAQ,CAACqB,MAAM,CAAC,GAAG,IAAI;4BACzB;4BAEA,OAAOG,SAAS,CAACG,aAAa,CAACvB,QAAQ,CAACV,GAAG,EAAEyB,WAAW,EAAEhB,KAAK,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC;0BAE7E,KAAK,EAAE;4BACL,IAAI,EAAE,CAACY,gBAAgB,IAAIzD,GAAG,KAAK8B,SAAS,CAAC9B,GAAG,CAAC,EAAE;8BACjDkE,SAAS,CAACf,IAAI,GAAG,EAAE;8BACnB;4BACF;4BAEAa,yBAAyB,GAAGjC,SAAS,CAACR,iBAAiB,EAAES,IAAI,CAAC;4BAE9D,IAAI,EAAE,CAACT,iBAAiB,IAAIyC,yBAAyB,CAAC,EAAE;8BACtDE,SAAS,CAACf,IAAI,GAAG,EAAE;8BACnB;4BACF;4BAEAe,SAAS,CAACf,IAAI,GAAG,EAAE;4BACnB,OAAOrB,SAAS,CAACT,MAAM,CAACe,GAAG,EAAEpC,GAAG,EAAE6D,WAAW,EAAErB,OAAO,EAAEK,KAAK,CAAC;0BAEhE,KAAK,EAAE;4BACLc,EAAE,EAAE;4BACJO,SAAS,CAACf,IAAI,GAAG,EAAE;4BACnB;0BAEF,KAAK,EAAE;0BACP,KAAK,KAAK;4BACR,OAAOe,SAAS,CAACI,IAAI,EAAE;wBAAC;sBAE9B;oBACF,CAAC,EAAE7B,OAAO,CAAC;kBACb,CAAC;kBAEDA,OAAO,GAAG,aAAajG,mBAAmB,CAAC8F,IAAI,CAACQ,QAAQ,CAAC;kBACzDJ,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;;kBAEfC,SAAS,GAAGtG,0BAA0B,CAACK,uBAAuB,CAAC6B,OAAO,CAAC,CAACmB,IAAI,CAACnB,OAAO,EAAErB,GAAG,CAACqH,kBAAkB,CAAC,CAAC;kBAC9GtB,SAAS,CAACC,IAAI,GAAG,CAAC;kBAElBP,SAAS,CAAC6B,CAAC,EAAE;gBAEf,KAAK,CAAC;kBACJ,IAAI,CAAC5B,KAAK,GAAGD,SAAS,CAAC8B,CAAC,EAAE,EAAEC,IAAI,EAAE;oBAChCzB,SAAS,CAACE,IAAI,GAAG,EAAE;oBACnB;kBACF;kBAEAN,KAAK,GAAGD,KAAK,CAAC3C,KAAK;kBACnB,OAAOgD,SAAS,CAACoB,aAAa,CAACvB,QAAQ,CAACD,KAAK,CAAC5C,KAAK,EAAE4C,KAAK,CAACb,IAAI,EAAEa,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;gBAEnF,KAAK,CAAC;kBACJI,SAAS,CAACE,IAAI,GAAG,CAAC;kBAClB;gBAEF,KAAK,EAAE;kBACLF,SAAS,CAACE,IAAI,GAAG,EAAE;kBACnB;gBAEF,KAAK,EAAE;kBACLF,SAAS,CAACC,IAAI,GAAG,EAAE;kBACnBD,SAAS,CAAC0B,EAAE,GAAG1B,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;kBAEpCN,SAAS,CAACiC,CAAC,CAAC3B,SAAS,CAAC0B,EAAE,CAAC;gBAE3B,KAAK,EAAE;kBACL1B,SAAS,CAACC,IAAI,GAAG,EAAE;kBAEnBP,SAAS,CAACkC,CAAC,EAAE;kBAEb,OAAO5B,SAAS,CAAC6B,MAAM,CAAC,EAAE,CAAC;gBAE7B,KAAK,EAAE;gBACP,KAAK,KAAK;kBACR,OAAO7B,SAAS,CAACqB,IAAI,EAAE;cAAC;YAE9B;UACF,CAAC,EAAE/B,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;QACxC,CAAC,CAAC;MACJ;IACF;EACF,CAAC,EAAE;IACDvC,GAAG,EAAE,YAAY;IACjBC,KAAK,EAAE,SAAS8E,UAAU,GAAG;MAC3B,IAAIC,SAAS;QACTC,MAAM,GAAG,IAAI;MAEjB,OAAOnI,qBAAqB,CAACkI,SAAS,GAAG,IAAI,CAACvF,cAAc,CAAC,CAACC,IAAI,CAACsF,SAAS,EAAE,UAAU3D,MAAM,EAAE;QAC9F,IAAIjD,SAAS,GAAG6G,MAAM,CAACC,qBAAqB,CAAC7D,MAAM,CAAC;QAEpD,OAAOjD,SAAS,CAACmC,MAAM,GAAG,CAAC;MAC7B,CAAC,CAAC;IACJ;EACF,CAAC,EAAE;IACDP,GAAG,EAAE,mBAAmB;IACxBC,KAAK,EAAE,SAASkF,iBAAiB,GAAG;MAClC,IAAI,IAAI,CAAC9G,eAAe,CAACkC,MAAM,GAAG,CAAC,EAAE;QACnC,IAAI6E,SAAS;QAEb,OAAOrI,QAAQ,CAACsI,IAAI,CAAC1I,oBAAoB,CAACyI,SAAS,GAAG,IAAI,CAAC/G,eAAe,CAAC,CAACqB,IAAI,CAAC0F,SAAS,EAAE,UAAUvC,KAAK,EAAE;UAC3G,OAAOA,KAAK,CAAC5C,KAAK;QACpB,CAAC,CAAC,CAAC;MACL;MAEA,OAAOqF,SAAS;IAClB;EACF,CAAC,EAAE;IACDtF,GAAG,EAAE,kBAAkB;IACvBC,KAAK,EAAE,SAASsF,gBAAgB,CAAClE,MAAM,EAAE;MACvC,IAAIC,IAAI,GAAG,IAAI,CAACkE,WAAW,CAACC,aAAa,CAACpE,MAAM,CAAC;MACjD,OAAO,IAAI,CAACnD,aAAa,CAACoD,IAAI,CAAC,IAAI,EAAE;IACvC;EACF,CAAC,EAAE;IACDtB,GAAG,EAAE,mBAAmB;IACxBC,KAAK,EAAE,SAASyF,iBAAiB,CAACrE,MAAM,EAAE;MACxC,OAAO,IAAI,CAACkE,gBAAgB,CAAClE,MAAM,CAAC,CAACd,MAAM;IAC7C;EACF,CAAC,EAAE;IACDP,GAAG,EAAE,qBAAqB;IAC1BC,KAAK,EAAE,SAAS0F,mBAAmB,CAACtE,MAAM,EAAE;MAC1C,IAAIuE,OAAO,GAAG,IAAI,CAACL,gBAAgB,CAAClE,MAAM,CAAC;MAC3C,IAAIe,GAAG,GAAGwD,OAAO,IAAIA,OAAO,CAACA,OAAO,CAACrF,MAAM,GAAG,CAAC,CAAC;MAChD,OAAO6B,GAAG,IAAI,CAAC,CAAC;IAClB;EACF,CAAC,EAAE;IACDpC,GAAG,EAAE,wBAAwB;IAC7BC,KAAK,EAAE,SAAS4F,sBAAsB,CAACxE,MAAM,EAAE;MAC7C,IAAIyE,EAAE,GAAG,IAAI,CAACH,mBAAmB,CAACtE,MAAM,CAAC,CAAC0E,aAAa;MACvD,OAAO,OAAOD,EAAE,KAAK,QAAQ,GAAG,CAAC,CAAC,GAAGA,EAAE;IACzC;EACF,CAAC,EAAE;IACD9F,GAAG,EAAE,qBAAqB;IAC1BC,KAAK,EAAE,SAAS+F,mBAAmB,CAAC3E,MAAM,EAAEe,GAAG,EAAE;MAC/C,IAAId,IAAI,GAAG,IAAI,CAACkE,WAAW,CAACC,aAAa,CAACpE,MAAM,CAAC;MACjD,IAAI,CAACnD,aAAa,CAACoD,IAAI,CAAC,GAAG,IAAI,CAACpD,aAAa,CAACoD,IAAI,CAAC,IAAI,EAAE;MACzD,IAAI,CAACpD,aAAa,CAACoD,IAAI,CAAC,CAACzB,IAAI,CAACuC,GAAG,CAAC;IACpC;EACF,CAAC,EAAE;IACDpC,GAAG,EAAE,eAAe;IACpBC,KAAK,EAAE,SAASF,aAAa,CAACxB,OAAO,EAAE;MACrC,IAAI0H,MAAM,GAAG,IAAI;MAEjB/I,GAAG,CAACgJ,cAAc,CAAC3H,OAAO,CAAC,CAAC4H,OAAO,CAAC,UAAUtD,KAAK,EAAE;QACnD,IAAIA,KAAK,YAAYuD,KAAK,EAAE;UAC1BH,MAAM,CAAC9H,MAAM,CAAC0B,IAAI,CAACgD,KAAK,CAAC;UAEzB;QACF;QAEA,IAAI;UACF,IAAI,CAAC3F,GAAG,CAACwE,QAAQ,CAACmB,KAAK,CAAC,EAAE;YACxBoD,MAAM,CAAC/F,KAAK,CAAC,eAAe,EAAE,wBAAwB,EAAE2C,KAAK,CAAC;YAE9D;UACF;UAEA,IAAIoD,MAAM,CAACvH,SAAS,EAAE;YACpBuH,MAAM,CAACtH,UAAU,CAACkB,IAAI,CAACgD,KAAK,CAAC;UAC/B;UAEA,IAAI3F,GAAG,CAACmJ,SAAS,CAACxD,KAAK,CAAC5C,KAAK,CAAC,EAAE;YAC9BgG,MAAM,CAAC5H,eAAe,CAACwB,IAAI,CAACgD,KAAK,CAAC;YAElCoD,MAAM,CAACK,iBAAiB,CAACzD,KAAK,CAAC;YAE/B;UACF;UAEA,IAAI3F,GAAG,CAACqJ,cAAc,CAAC1D,KAAK,CAAC,EAAE;YAC7BoD,MAAM,CAACO,UAAU,CAAC3D,KAAK,CAACb,IAAI,EAAEa,KAAK,CAAC5C,KAAK,CAAC;YAE1C;UACF;UAEA,IAAI/C,GAAG,CAACuJ,UAAU,CAAC5D,KAAK,CAAC,EAAE;YACzBoD,MAAM,CAACS,eAAe,CAAC7D,KAAK,CAAC;YAE7B;UACF;QACF,CAAC,CAAC,OAAO+B,CAAC,EAAE;UACVjE,OAAO,CAACgG,KAAK,CAAC/B,CAAC,CAAC,CAAC,CAAC;;UAElBqB,MAAM,CAAC9H,MAAM,CAAC0B,IAAI,CAAC+E,CAAC,CAAC;QACvB;MACF,CAAC,CAAC;IACJ;EACF,CAAC,EAAE;IACD5E,GAAG,EAAE,iBAAiB;IACtBC,KAAK,EAAE,SAASyG,eAAe,CAAC7D,KAAK,EAAE;MACrC,IAAIzG,OAAO,CAACyG,KAAK,CAAC5C,KAAK,CAAC,KAAK,QAAQ,IAAI,CAACQ,KAAK,CAACyB,OAAO,CAACW,KAAK,CAAC5C,KAAK,CAAC,IAAI,IAAI,CAAChB,gBAAgB,EAAE;QAC7F4D,KAAK,CAAC5C,KAAK,GAAG9D,aAAa,CAAC,CAAC,CAAC,EAAE0G,KAAK,CAAC5C,KAAK,CAAC;MAC9C;MAEA,IAAI2G,MAAM,GAAG1J,GAAG,CAAC2J,UAAU,CAAC,IAAI,CAACvI,KAAK,EAAEuE,KAAK,EAAE;QAC7C5D,gBAAgB,EAAE,IAAI,CAACA;MACzB,CAAC,CAAC;MAEF,IAAI2H,MAAM,EAAE;QACV,IAAI,CAACxI,SAAS,CAACyB,IAAI,CAACgD,KAAK,CAAC;QAC1B,IAAI,CAACvE,KAAK,GAAGsI,MAAM;MACrB;IACF;EACF,CAAC,EAAE;IACD5G,GAAG,EAAE,qBAAqB;IAC1BC,KAAK,EAAE,SAAS6G,mBAAmB,CAACjE,KAAK,EAAE;MACzC,IAAIkE,SAAS;MAEb,IAAIC,KAAK,GAAG,IAAI,CAAC3I,eAAe,CAAC8F,OAAO,CAACtB,KAAK,CAAC;MAE/C,IAAImE,KAAK,GAAG,CAAC,EAAE;QACb,IAAI,CAAC9G,KAAK,CAAC,mDAAmD,CAAC;QAC/D;MACF;MAEAlD,uBAAuB,CAAC+J,SAAS,GAAG,IAAI,CAAC1I,eAAe,CAAC,CAACqB,IAAI,CAACqH,SAAS,EAAEC,KAAK,EAAE,CAAC,CAAC;IACrF;EACF,CAAC,EAAE;IACDhH,GAAG,EAAE,mBAAmB;IACxBC,KAAK,EAAE,SAASqG,iBAAiB,CAACzD,KAAK,EAAE;MACvC,IAAIoE,MAAM,GAAG,IAAI;MAEjBpE,KAAK,CAAC5C,KAAK,GAAG4C,KAAK,CAAC5C,KAAK,CAACiH,IAAI,CAAC,UAAU9E,GAAG,EAAE;QAC5C,IAAI+E,aAAa,GAAGhL,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAE0G,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;UAC9D5C,KAAK,EAAEmC;QACT,CAAC,CAAC;QAEF6E,MAAM,CAACH,mBAAmB,CAACjE,KAAK,CAAC;QAEjCoE,MAAM,CAAClH,aAAa,CAACoH,aAAa,CAAC;MACrC,CAAC,CAAC,CAACC,KAAK,CAAC,UAAUxC,CAAC,EAAE;QACpBqC,MAAM,CAACH,mBAAmB,CAACjE,KAAK,CAAC;QAEjCoE,MAAM,CAAClH,aAAa,CAAC6E,CAAC,CAAC;MACzB,CAAC,CAAC;MACF,OAAO/B,KAAK,CAAC5C,KAAK;IACpB;EACF,CAAC,EAAE;IACDD,GAAG,EAAE,cAAc;IACnBC,KAAK,EAAE,SAASoH,YAAY,CAACC,IAAI,EAAEC,EAAE,EAAE;MACrC,IAAIC,SAAS;MAEbF,IAAI,GAAGA,IAAI,IAAI,CAAC;MAEhB,IAAI,OAAOC,EAAE,KAAK,QAAQ,EAAE;QAC1BA,EAAE,GAAG,IAAI,CAACnJ,SAAS,CAACmC,MAAM;MAC5B;MAEA,OAAOtD,sBAAsB,CAACuK,SAAS,GAAG,IAAI,CAACpJ,SAAS,CAAC,CAACsB,IAAI,CAAC8H,SAAS,EAAEF,IAAI,EAAEC,EAAE,CAAC;IACrF;EACF,CAAC,EAAE;IACDvH,GAAG,EAAE,qBAAqB;IAC1BC,KAAK,EAAE,SAASwH,mBAAmB,GAAG;MACpC,OAAO,IAAI,CAACvC,qBAAqB,CAAC,IAAI,CAACwC,gBAAgB,EAAE,CAAC;IAC5D;EACF,CAAC,EAAE;IACD1H,GAAG,EAAE,uBAAuB;IAC5BC,KAAK,EAAE,SAASiF,qBAAqB,CAAC7D,MAAM,EAAE;MAC5C,IAAIsG,GAAG,GAAG,IAAI,CAAC9B,sBAAsB,CAACxE,MAAM,CAAC;MAC7C,OAAO,IAAI,CAACgG,YAAY,CAACM,GAAG,GAAG,CAAC,CAAC;IACnC;EACF,CAAC,EAAE;IACD3H,GAAG,EAAE,kBAAkB;IACvBC,KAAK,EAAE,SAASyH,gBAAgB,GAAG;MACjC,OAAO,IAAI,CAACE,aAAa;IAC3B;EACF,CAAC,EAAE;IACD5H,GAAG,EAAE,QAAQ;IACbC,KAAK,EAAE,SAAS4H,MAAM,GAAG;MACvB,OAAO,IAAI,CAAChJ,UAAU;IACxB,CAAC,CAAC;EAEJ,CAAC,EAAE;IACDmB,GAAG,EAAE,MAAM;IACXC,KAAK,EAAE,SAASd,IAAI,CAAC6C,IAAI,EAAE;MACzB,OAAO9E,GAAG,CAAC4K,KAAK,CAAC,IAAI,CAACxJ,KAAK,EAAE0D,IAAI,CAAC;IACpC,CAAC,CAAC;EAEJ,CAAC,EAAE;IACDhC,GAAG,EAAE,aAAa;IAClBC,KAAK,EAAE,SAASX,WAAW,CAAC0C,IAAI,EAAE;MAChC,OAAO,IAAI,CAACvD,WAAW,CAACS,GAAG,CAAC8C,IAAI,CAAC;IACnC;EACF,CAAC,EAAE;IACDhC,GAAG,EAAE,YAAY;IACjBC,KAAK,EAAE,SAASuG,UAAU,CAACxE,IAAI,EAAE/B,KAAK,EAAE;MACtC,OAAO,IAAI,CAACxB,WAAW,CAACsJ,GAAG,CAAC/F,IAAI,EAAE/B,KAAK,CAAC;IAC1C,CAAC,CAAC;EAEJ,CAAC,EAAE;IACDD,GAAG,EAAE,SAAS;IACdC,KAAK,EAAE,SAAST,OAAO,CAACwI,KAAK,EAAE;MAC7B,IAAIC,KAAK,GAAG,IAAI,CAACvC,iBAAiB,CAAC,IAAI,CAACgC,gBAAgB,EAAE,CAAC;MAC3D,OAAOO,KAAK,IAAID,KAAK,IAAI,CAAC,CAAC;IAC7B;EACF,CAAC,EAAE;IACDhI,GAAG,EAAE,UAAU;IACfC,KAAK,EAAE,SAASiI,QAAQ,GAAG;MACzB,IAAIC,MAAM,GAAG,IAAI;MAEjB,IAAIC,IAAI,GAAG,IAAI;MACf,IAAI/G,MAAM,GAAG,IAAI,CAAC0D,UAAU,EAAE;MAE9B,IAAI,CAAC1D,MAAM,EAAE;QACX,IAAIgH,WAAW,GAAG,IAAI,CAAClD,iBAAiB,EAAE;QAE1C,IAAIkD,WAAW,EAAE;UACf,OAAOA,WAAW,CAACnB,IAAI,CAAC,YAAY;YAClC,OAAOiB,MAAM,CAACD,QAAQ,EAAE;UAC1B,CAAC,CAAC,CAACd,KAAK,CAAC,YAAY;YACnB,OAAOe,MAAM,CAACD,QAAQ,EAAE;UAC1B,CAAC,CAAC;QACJ,CAAC,CAAC;;QAGF,IAAItB,MAAM,GAAG;UACX7I,IAAI,EAAE,IAAI,CAACO,KAAK;UAChBH,MAAM,EAAE,IAAI,CAACA;QACf,CAAC;QAED,IAAI,IAAI,CAACO,SAAS,EAAE;UAClBkI,MAAM,CAACrI,OAAO,GAAG,IAAI,CAACI,UAAU;QAClC;QAEA,OAAO5B,QAAQ,CAACuL,OAAO,CAAC1B,MAAM,CAAC;MACjC,CAAC,CAAC;;MAGFwB,IAAI,CAACG,WAAW,GAAGH,IAAI,CAACG,WAAW,IAAI,CAAC,CAAC;MACzCH,IAAI,CAACG,WAAW,CAAClH,MAAM,CAAC,GAAG,CAAC+G,IAAI,CAACG,WAAW,CAAClH,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;MAE9D,IAAI+G,IAAI,CAACG,WAAW,CAAClH,MAAM,CAAC,GAAG7D,UAAU,EAAE;QACzC,IAAIgL,UAAU;QAEd,OAAOzL,QAAQ,CAACuL,OAAO,CAAC;UACtBvK,IAAI,EAAEqK,IAAI,CAAC9J,KAAK;UAChBH,MAAM,EAAEvB,uBAAuB,CAAC4L,UAAU,GAAGJ,IAAI,CAACjK,MAAM,CAAC,CAACuB,IAAI,CAAC8I,UAAU,EAAE,IAAIpC,KAAK,CAAC,gCAAgC,CAAChF,MAAM,CAAC5D,UAAU,EAAE,cAAc,CAAC,CAAC;QAC3J,CAAC,CAAC;MACJ,CAAC,CAAC;;MAGF,IAAI6D,MAAM,KAAK,IAAI,CAACuG,aAAa,IAAI,IAAI,CAACvJ,eAAe,CAACkC,MAAM,EAAE;QAChE,IAAIkI,UAAU;QAEd,IAAIC,QAAQ,GAAG/L,oBAAoB,CAAC8L,UAAU,GAAG,IAAI,CAACpK,eAAe,CAAC,CAACqB,IAAI,CAAC+I,UAAU,EAAE,UAAUE,CAAC,EAAE;UACnG,OAAOA,CAAC,CAAC1I,KAAK;QAChB,CAAC,CAAC,CAAC,CAAC;;QAGJ,OAAOlD,QAAQ,CAAC6L,GAAG,CAACjM,oBAAoB,CAAC+L,QAAQ,CAAC,CAAChJ,IAAI,CAACgJ,QAAQ,EAAE,UAAUG,OAAO,EAAE;UACnF,OAAOA,OAAO,CAAC3B,IAAI,CAACzJ,IAAI,EAAEA,IAAI,CAAC;QACjC,CAAC,CAAC,CAAC,CAACyJ,IAAI,CAAC,YAAY;UACnB,OAAOiB,MAAM,CAACD,QAAQ,EAAE;QAC1B,CAAC,CAAC;MACJ,CAAC,CAAC;;MAGF,OAAOY,aAAa,EAAE;MAEtB,SAASA,aAAa,GAAG;QACvBV,IAAI,CAACR,aAAa,GAAGvG,MAAM;QAC3B,IAAIjD,SAAS,GAAGgK,IAAI,CAACX,mBAAmB,EAAE;QAC1C,IAAIsB,iBAAiB,GAAGX,IAAI,CAAChK,SAAS,CAACmC,MAAM,GAAG,CAAC;QAEjD,IAAI;UACF,IAAIc,MAAM,CAACQ,WAAW,EAAE;YACtB;YACA,IAAImH,UAAU,GAAG3M,0BAA0B,CAACgF,MAAM,CAACjD,SAAS,EAAEgK,IAAI,CAACP,MAAM,EAAE,CAAC,CAAC;cACzEoB,MAAM;YAEV,IAAI;cACF,KAAKD,UAAU,CAACxE,CAAC,EAAE,EAAE,CAAC,CAACyE,MAAM,GAAGD,UAAU,CAACvE,CAAC,EAAE,EAAEC,IAAI,GAAG;gBACrD,IAAIwE,cAAc,GAAGD,MAAM,CAAChJ,KAAK;gBACjCF,aAAa,CAACmJ,cAAc,CAAC;cAC/B;YACF,CAAC,CAAC,OAAOC,GAAG,EAAE;cACZH,UAAU,CAACpE,CAAC,CAACuE,GAAG,CAAC;YACnB,CAAC,SAAS;cACRH,UAAU,CAACnE,CAAC,EAAE;YAChB;UACF,CAAC,MAAM;YACL,IAAIuE,UAAU,GAAG/H,MAAM,CAACjD,SAAS,EAAEgK,IAAI,CAACP,MAAM,EAAE,CAAC;YACjD9H,aAAa,CAACqJ,UAAU,CAAC;UAC3B;QACF,CAAC,CAAC,OAAOxE,CAAC,EAAE;UACVjE,OAAO,CAACgG,KAAK,CAAC/B,CAAC,CAAC,CAAC,CAAC;;UAElB7E,aAAa,CAAC,CAACtD,cAAc,CAACqC,MAAM,CAACC,MAAM,CAAC6F,CAAC,CAAC,EAAE;YAC9CvD,MAAM,EAAEA;UACV,CAAC,CAAC,CAAC,CAAC;QACN,CAAC,SAAS;UACR+G,IAAI,CAACpC,mBAAmB,CAAC3E,MAAM,EAAE;YAC/B0E,aAAa,EAAEgD;UACjB,CAAC,CAAC;QACJ;QAEA,OAAOX,IAAI,CAACF,QAAQ,EAAE;MACxB;MAEA,SAASnI,aAAa,CAACxB,OAAO,EAAE;QAC9B,IAAIA,OAAO,EAAE;UACXA,OAAO,GAAGrB,GAAG,CAACmM,mBAAmB,CAAC9K,OAAO,CAAC;UAC1C6J,IAAI,CAACrI,aAAa,CAACxB,OAAO,EAAE8C,MAAM,CAAC;QACrC;MACF;IACF;EACF,CAAC,CAAC,EAAE,CAAC;IACHrB,GAAG,EAAE,eAAe;IACpBC,KAAK,EAAE,SAASwF,aAAa,CAACpE,MAAM,EAAE;MACpC,OAAOA,MAAM,CAACO,UAAU;IAC1B;EACF,CAAC,EAAE;IACD5B,GAAG,EAAE,kBAAkB;IACvBC,KAAK,EAAE,SAASqJ,gBAAgB,CAAC/K,OAAO,EAAEkD,EAAE,EAAE;MAC5C,OAAO/E,uBAAuB,CAAC6B,OAAO,CAAC,CAACmB,IAAI,CAACnB,OAAO,EAAEkD,EAAE,CAAC;IAC3D;EACF,CAAC,CAAC,CAAC;EAEH,OAAO/D,OAAO;AAChB,CAAC,EAAE;AAEH,eAAe,SAAS6L,OAAO,CAAC5L,IAAI,EAAE;EACpC,OAAO,IAAID,OAAO,CAACC,IAAI,CAAC,CAACuK,QAAQ,EAAE;AACrC;AACA,IAAIjK,OAAO,GAAG;EACZd,IAAI,EAAEA,IAAI;EACVC,KAAK,EAAEA,KAAK;EACZC,UAAU,EAAEA,UAAU;EACtBC,UAAU,EAAEA;AACd,CAAC;AACD,SAASI,OAAO,EAAEO,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}